<?xml version="1.0" encoding="UTF-8"?>
<!-- https://regex101.com/ - online regexp matcher
    <meteo type="X" name="Y"> // X - enum MeteoProtocol { METEO_AWOS = 0, METEO_GAMET = 1, METEO_METAR = 2, METEO_TAF = 3, METEO_WIND = 5, METEO_UNKNOWN = 99 } ; 
        <state> 
            name = имя обьекта состояня конечного автомата (ndstate)
            pattern = perl regexp pattern. Определяется начало поля
            filed = Идентификатор поля. Суффикс _TRASH для полей, которые не нужно сохранять(Нестандартные заголовки)
            required = true|false. Обязательное/необязательное поле. При отсутствии обязательного поля выдаётся сообщение о некорректности метеосообщения (по-умолчанию: false)
            repeated = true|false. Повторяющееся поле. (по-умолчанию: false)
            next = имя следующего обьекта состояня конечного автомата (ndstate)
            <key>
                pattern = perl regexp pattern. Определяет загаловок поля. Служит для удаления заголовка или маркеров.
            </key>
            <value>
                pattern = perl regexp pattern. Описывает искомое значение.
                del = perl regexp pattern. Для удаления маркеров из значения полученного по pattern.
                field = Название
                repeated = true|false. Повторяющееся. (по-умолчанию: false)
                minimalCap = true|false. Включает/выключает минимальное совпадение. см QRegExp::setMinimal (по-умолчанию: true)
            </value>            
        </state>
    </meteo>
-->
<universalMeteoDecoder>
    <meteo type="1" name="GAMET" struct="GametMeteoStruct" parent="GametMeteoPrototype">
        <state name="fLine" pattern="^ZCZC(\r\n|\r|\n)\d{2}\s\d{4}(\r\n|\r|\n)" field="GAMET_F_LINE" required="false" next="fLine2"/>
        <state name="fLine2" pattern="TYPE:GAMET.+(\r\n|\r|\n)" field="GAMET_F_LINE2" required="false" next="fLine3"/>
        <state name="fLine3" pattern="ID:.+(\n|\r)" field="GAMET_F_LINE3" required="false" next="fLineEx"/>
        <state name="fLineEx" pattern="CANCEL:\d+(\n|\r)" field="GAMET_C_VALIDDATE" required="false" next="fLine_head">
            <key pattern="CANCEL:"/>
            <value pattern="\d+(\n|\r)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="CANCEL_DATE">
                <data structType="datetime" format="yyMMddhhmm" structName="cancelDate"/>
                <db dbfield="CANCEL_DATE"/>
            </value>
        </state>
        <state name="fLine_head" pattern=".{4}\d{2}\s.{4}\s\d{6}(\s(AA|CC).)?" field="METEO_HEAD" required="false" next="g_head">
            <value pattern="^.{2}" field="DATA_TYPE"/>
            <value pattern="^.{2}" field="COUNTRY"/>
            <value pattern="^\d{2}\s" del="\s" field="MSG_NUMBER"/>
            <value pattern="^.{4}\s" del="\s" field="METEO_ICAO_HEAD"/>
            <value pattern="^\d{2}" field="DAY_HEAD"/>
            <value pattern="^\d{4}\s?" del="\s" minimalCap="false" field="TIME_HEAD"/>
            <value pattern="^(AA|CC)." field="COR_ID_HEAD"/>
        </state>
        <state name="g_head" pattern=".{4}\sGAMET\s((AMD|COR)\s)?VALID\s\d{6}\/\d{6}\s.{4}-" field="GAMET_HEAD" required="true" next="g_fir_name">
            <key pattern="VALID\s"/>            
            <key pattern="-$"/>
            <value pattern="^.{4}\s" del="\s?" field="GAMET_ICAO">
                <data structType="string" structName="icao"/>
                <db dbfield="ICAO"/>
            </value>
            <value pattern="^GAMET\s((AMD|COR)\s)?" del="\s$" minimalCap="false" field="GAMET_TYPE">
                <data structType="string" structName="type"/>
            </value>
            <value pattern="^\d{2}\d{4}\/" del="\/$" field="GAMET_DT_START">
                <data structType="datetime" format="ddhhmm" structName="dtStart"/>
                <db dbfield="START_DT"/>
            </value>
            <value pattern="^\d{2}\d{4}\s" field="GAMET_DT_END">
                <data structType="datetime" format="ddhhmm" structName="dtEnd"/>
                <db dbfield="END_DT"/>
            </value>
            <value pattern="^.{4}" field="GAMET_METEO_ICAO">
                <data structType="string" structName="meteoIcao"/>
                <db dbfield="METEO_ICAO"/>
            </value>
        </state> 
        <state name="g_fir_name" pattern="\w{4}\s\w+(\W\w+)*\s(FIR|CTA)" field="GAMET_L_LOCATION_NAME" required="true" next="g_cnl_gamet">
            <key pattern="-\s+?(\r|\n|\r\n)+"/>
            <value pattern="^.{4}\s" del="\s" field="LOCATION_ICAO">
                <data structType="string" structName="locationIcao"/>
                <db dbfield="LOCATION_ICAO"/>
            </value>
            <value pattern=".+(FIR|CTA).+BLW\s" del="(\/|\s)?BLW" minimalCap="false" field="LOCATION_NAME" >
                <data structType="string" structName="locationName"/>
                <db dbfield="LOCATION_NAME"/>
            </value>
            <value pattern="FL\d{3,5}" field="LOCATION_HEIGHT">
                <data structType="string" structName="locationHeght"/>
                <db dbfield="HEGHT"/>
            </value>
        </state>
        <state name="g_cnl_gamet" pattern="CNL\sGAMET\s\d{6}\/\d{6}=?" field="GAMET_CNL_GAMET" required="false" next="g_secn1">
            <key pattern="GAMET\s"/>
            <value pattern="CNL\s" del="\s" field="IS_CNL">
                <data structType="bool" structName="isCnl"/>
                <db dbfield="CNL"/> <!-- Узнать у Саши как он собирается реализовывать сценарии. ДСЛ + привяка -->
            </value>
            <value pattern="^\d{2}\d{4}\/" del="\/" field="GAMET_CNL_DT_START">
                <data structType="datetime" format="ddhhmm" structName="cnlDtStart"/>
                <db dbfield="CNL_DT_START"/>
            </value>
            <value pattern="^\d{2}\d{4}=?" del="=" field="GAMET_CNL_DT_END">
                <data structType="datetime" format="ddhhmm" structName="cnlDtEnd"/>
                <db dbfield="CNL_DT_END"/>
            </value>
        </state>
        <state name="g_secn1" pattern="SECN\s?\w(\n|\r|\r\n)" field="GAMET_SECN1" required="false" next="g_scf_wind"/>
        <state name="g_scf_wind" pattern="SFC\sWIND:" field="GAMET_G_SURFACEWIND" required="false" repeated="true" next="g_scf_vis">
            <key pattern="^SFC\sWIND:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_SURFACEWIND" repeated="true" concat="\n">
                <data structType="string" structName="sfcWind"/>
                <db dbfield="SURFACE_WIND"/>
            </value>
        </state>
        <state name="g_scf_vis" pattern="SFC\sVIS:" field="GAMET_G_SURFACEVISIBILITY" required="false" repeated="true" next="g_sigwx">
            <key pattern="^SFC\sVIS:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_SURFACEVISIBILITY" repeated="true" concat="\n">
                <data structType="string" structName="sfcVis"/>
                <db dbfield="SURFACE_VISIBILITY"/>
            </value>
        </state>
        <state name="g_sigwx" pattern="SIGWX:" field="GAMET_G_WEATHERCONDITION" required="false" repeated="true" next="g_mtobsc">
            <key pattern="^SIGWX:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_WEATHERCONDITION" repeated="true" concat="\n">
                <data structType="string" structName="sigWX"/>
                <db dbfield="WEATHER_CONDITION"/>
            </value>
        </state>
        <state name="g_mtobsc" pattern="MT\sOBSC:" field="GAMET_G_MTOBSC" required="false" repeated="true" next="g_sigcld">
            <key pattern="^MT\sOBSC:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_MTOBSC" repeated="true" concat="\n">
                <data structType="string" structName="mtObsc"/>
                <db dbfield="MT_OBSC"/>
            </value>
        </state>
        <state name="g_sigcld" pattern="SIG\sCLD:" field="GAMET_G_SIGCLOUDS" required="false" repeated="true" next="g_ice">
            <key pattern="^SIG\sCLD:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_SIGCLOUDS" repeated="true" concat="\n">
                <data structType="string" structName="sigClouds"/>
                <db dbfield="SIG_CLOUDS"/>
            </value>
        </state>
        <state name="g_ice" pattern="ICE:" field="GAMET_G_ICING" required="false" repeated="true" next="g_turb">
            <key pattern="^ICE:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_ICING" repeated="true" concat="\n">
                <data structType="string" structName="icing"/>
                <db dbfield="ICING"/>
            </value>
        </state>
        <state name="g_turb" pattern="TURB:" field="GAMET_G_TURBULENCE" required="false" repeated="true" next="g_mtw">
            <key pattern="^TURB:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_TURBULENCE" repeated="true" concat="\n">
                <data structType="string" structName="turbulence"/>
                <db dbfield="TURBULENCE"/>
            </value>
        </state>
        <state name="g_mtw" pattern="MTW:" field="GAMET_G_MOUNTAINWAVES" required="false" repeated="true" next="g_sigmet">
            <key pattern="^MTW:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_MOUNTAINWAVES" repeated="true" concat="\n">
                <data structType="string" structName="mountainWaves"/>
                <db dbfield="MOUNTAIN_WAVES"/>
            </value>
        </state>
        <state name="g_sigmet" pattern="SIGMET(S)?\sAPPLICABLE:" field="GAMET_G_SIGMETAPPLICABLE" required="false" repeated="true" next="g_hzrd">
            <key pattern="^SIGMET(S)?\sAPPLICABLE:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_SIGMETAPPLICABLE" repeated="true" concat="\n">
                <data structType="string" structName="sigmetApplicable"/>
                <db dbfield="SIGMET_APPLICABLE"/>
            </value>
        </state>
        <state name="g_hzrd" pattern="HAZARDOUS\sWX\sNIL" field="GAMET_С_HZRD" required="false" repeated="true" next="g_secn2">
            <value pattern="^HAZARDOUS\sWX\sNIL(\n|\r)?" minimalCap="false" field="С_HZRD" repeated="true" concat="\n">
                <data structType="string" structName="hzrd"/>
                <db dbfield="HZRD"/>
            </value>
        </state>
        <state name="g_secn2" pattern="SECN\s?\w{2}(\n|\r)?" field="GAMET_SECN2" required="false" repeated="false" next="g_psys"/>
        <state name="g_psys" pattern="PSYS:" field="GAMET_G_PSYS" required="false" repeated="true" next="g_windt">
            <key pattern="^PSYS:\s?"/>
            <value pattern=".+(\n|\r)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="G_PSYS" repeated="true" concat="\n">
                <data structType="string" structName="psys"/>
                <db dbfield="PSYS"/>
            </value>
        </state>
        <state name="g_windt" pattern="WIND/T:" field="GAMET_G_WINDTMP" required="false" repeated="true" next="g_cld">
            <key pattern="^WIND/T:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_WINDTMP" repeated="true" concat="\n">
                <data structType="string" structName="windTmp"/>
                <db dbfield="WIND_TMP"/>
            </value>
        </state>
        <state name="g_cld" pattern="\nCLD:" field="GAMET_G_CLOUDS" required="false" repeated="true" next="g_fzlvl">
            <key pattern="^\nCLD:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_CLOUDS" repeated="true" concat="\n">
                <data structType="string" structName="clouds"/>
                <db dbfield="CLOUDS"/>
            </value>
        </state>
        <state name="g_fzlvl" pattern="FZLVL:" field="GAMET_G_FREEZE_LVL" required="false" repeated="true" next="g_mnmqnh">
            <key pattern="^FZLVL:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_FREEZE_LVL" repeated="true" concat="\n">
                <data structType="string" structName="freezeLvl"/>
                <db dbfield="FREEZE_LVL"/>
            </value>
        </state>
        <state name="g_mnmqnh" pattern="MNM\s?QNH:" field="GAMET_G_MINQNH" required="false" repeated="true" next="g_sea">
            <key pattern="^MNM\s?QNH:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_MINQNH" repeated="true" concat="\n">
                <data structType="string" structName="minQnh"/>
                <db dbfield="MIN_QNH"/>
            </value>
        </state>
        <state name="g_sea" pattern="SEA:" field="GAMET_G_SEATEMP" required="false" repeated="true" next="g_va">
            <key pattern="^SEA:\s?"/>
            <value pattern=".+(\n|\r)?" minimalCap="false" field="G_SEATEMP" repeated="true" concat="\n">
                <data structType="string" structName="seaTemp"/>
                <db dbfield="SEA_TEMP"/>
            </value>
        </state>
        <state name="g_va" pattern="VA:" field="GAMET_G_VOLCANICERUPTIONS" required="false" repeated="true" next="g_rmk">
            <key pattern="^VA:\s?"/>
            <value pattern=".+(\n|\r)?" del="=" minimalCap="false" field="G_VOLCANICERUPTIONS" repeated="true" concat="\n">
                <data structType="string" structName="volcanicEruptions"/>
                <db dbfield="VOLCANIC_ERUPTIONS"/>
            </value>
        </state>
        <state name="g_rmk" pattern="RMK:" field="GAMET_G_RMK" required="false" repeated="true" next="g_fin">
            <key pattern="^RMK:\s?"/>
            <value pattern=".+(\n|\r)?" del="=" minimalCap="false" field="G_RMK" repeated="true" concat="\n">
                <data structType="string" structName="rmk"/>
                <db dbfield="RMK"/>
            </value>
        </state>
        <state name="g_fin" pattern="NNNN(\n|\r)?" field="GAMET_FIN" required="false" next="FINFIN"/>
    </meteo>
<!-- ######################################################################################## -->            
<!-- ######################################################################################## -->        
<!-- ###################################### AWOS ############################################ -->    
<!-- ######################################################################################## -->        
<!-- ######################################################################################## -->        
    <meteo type="0" name="AWOS" struct="AwosMeteoStruct" parent="AwosMeteoPrototype">
        <state name="fLine" pattern="^ZCZC(\r\n|\r|\n)\d{2}\s\d{4}(\r\n|\r|\n)" field="AWOS_F_LINE_TRASH" required="false" next="fLine2">
        </state>
        <state name="fLine2" pattern="TYPE:AWOS.+(\r\n|\r|\n)" field="AWOS_F_LINE3" required="false" next="fLine3">
        </state>
        <state name="fLine3" pattern="ID:.+(\n|\r)" field="AWOS_F_LINE4" required="false" next="fLineEx">
        </state>
        <state name="fLineEx" pattern="CANCEL:\d+(\n|\r)" field="AWOS_C_VALIDDATE" required="false" next="m_fLine">
            <key pattern="CANCEL:"/>
                <value pattern="\d+(\n|\r)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="CANCEL_DATE">
                    <data structType="datetime" format="yyMMddhhmm" structName="cancelDate"/>
                    <db dbfield="CANCEL_DATE"/>
                </value>
        </state>
        <state name="m_fLine" pattern="&amp;000\sAWOS\s.+;" field="AWOS_M_FLINE" required="true" next="m_Type">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="A_VERSION"/>
        </state>
        <state name="m_Type" pattern="&amp;001\s\d;" field="AWOS_M_TYPE" required="true" next="m_ardCode">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_TYPE">
                <data structType="awosType" structName="type"/>
                <db dbfield="TYPE"/>
            </value>
        </state>
        <state name="m_ardCode" pattern="&amp;002\s.{4};" field="AWOS_ARD_CODE" required="true" next="m_dt">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="ARD_CODE">
                <data structType="string" structName="icao"/>
                <db dbfield="ICAO"/>
            </value>
        </state>
        <state name="m_dt" pattern="&amp;003.+;" field="AWOS_D_DT" required="true" next="m_rwy">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="D_DT">
                <data structType="datetime" format="hh:mm:ss dd-MM-yyyy" structName="DT"/>
                <db dbfield="DT"/>
            </value>
        </state>
        <state name="m_rwy" pattern="&amp;004.+;" field="AWOS_RUNWAY_IDENTIFIER" required="true" next="m_rwy_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="RUNWAY_IDENTIFIER">
                <data structType="string" structName="rwyIdentifier"/>
                <db dbfield="RUNWAY_IDENTIFIER"/>
            </value>
        </state>
        <state name="m_rwy_c1" pattern="&amp;005.+;" field="AWOS_RUNWAY_COURSE_1" required="true" next="m_rwy_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="RUNWAY_COURSE_1">
                <data structType="string" structName="rwyCourse1"/>
                <db dbfield="RUNWAY_COURSE_1"/>
            </value>
        </state>
        <state name="m_rwy_c2" pattern="&amp;006.+;" field="AWOS_RUNWAY_COURSE_2" required="true" next="m_rwy_use">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="RUNWAY_COURSE_2">
                <data structType="string" structName="rwyCourse2"/>
                <db dbfield="RUNWAY_COURSE_2"/>
            </value>
        </state>
        <state name="m_rwy_use" pattern="&amp;007.+;" field="AWOS_RUNWAY_IN_USE" required="true" next="m_w_dir_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="RUNWAY_IN_USE">
                <data structType="string" structName="rwyInUse"/>
                <db dbfield="RUNWAY_IN_USE"/>
            </value>
        </state>
        <state name="m_w_dir_c1" pattern="&amp;010.+;" field="AWOS_W_DIRECTION_C1" required="false" next="m_w_speed2_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_DIRECTION_C1">
                <listdata structType="List Wind" structName="wind" create="true">
                    <data struct="Wind" structType="int" structName="winDir"/>
                    <data struct="Wind" structType="string *" fromMain="rwyCourse1" structName="course"/>
                    <data struct="Wind" structType="RWY_SIDE" fromConst="RWY_SIDE::FROM_COURSE" structName="winDir"/>
                </listdata> <!-- TODO Get ID of parent to insert-->
                <db table="AWOS_WIND" dbfield="WIND_DIRECTION"/>
            </value>
        </state>
        <state name="m_w_speed2_c1" pattern="&amp;011.+;" field="AWOS_W_SPEED_2_C1" required="false" next="m_w_minspeed10_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_SPEED_2_C1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed2"/>
                </listdata>
                <db table="AWOS_WIND" dbfield="SPEED_2"/>
            </value>
        </state>
        <state name="m_w_minspeed10_c1" pattern="&amp;012.+;" field="AWOS_W_MIN_SPEED_10_C1" required="false" next="m_w_maxspeed10_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_MIN_SPEED_10_C1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed10Min"/>
                </listdata>
                <db table="AWOS_WIND" dbfield="MIN_SPEED_10"/>
            </value>
        </state>
        <state name="m_w_maxspeed10_c1" pattern="&amp;013.+;" field="AWOS_W_MAX_SPEED_10_C1" required="false" next="m_w_speed_change_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_MAX_SPEED_10_C1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed10Max"/>
                </listdata>
                <db table="AWOS_WIND" dbfield="MAX_SPEED_10"/>
            </value>
        </state>
        <state name="m_w_speed_change_c1" pattern="&amp;014.+;" field="AWOS_W_SPEED_CHANGE_C1" required="false" next="m_w_lat_speed_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_SPEED_CHANGE_C1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="string" structName="windChange"/>
                </listdata>
                <db table="AWOS_WIND" dbfield="WIND_CHANGE"/>
            </value>
        </state>
        <state name="m_w_lat_speed_c1" pattern="&amp;015.+;" field="AWOS_W_LAT_SPEED_C1" required="false" next="m_w_lon_speed_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_LAT_SPEED_C1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windLat"/>
                </listdata>
                <db table="AWOS_WIND" dbfield="LAT_SPEED"/>
            </value>
        </state>
        <state name="m_w_lon_speed_c1" pattern="&amp;016.+;" field="AWOS_W_LON_SPEED_C1" required="false" next="m_w_gust_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_LON_SPEED_C1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windLon"/>
                </listdata>
                <db table="AWOS_WIND" dbfield="LON_SPEED"/>
            </value>
        </state>
        <state name="m_w_gust_c1" pattern="&amp;017.+;" field="AWOS_W_GUST_SPEED_C1" required="false" next="m_w_dir_fc1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_GUST_SPEED_C1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windGust"/>
                </listdata>
                <db table="AWOS_WIND" dbfield="GUST"/>
            </value>
        </state>
        <state name="m_w_dir_fc1" pattern="&amp;020.+;" field="AWOS_W_DIRECTION_FC1" required="false" next="m_w_speed2_fc1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_DIRECTION_FC1">
              <listdata structType="List Wind" structName="wind" create="true">
                    <data struct="Wind" structType="int" structName="winDir"/>
                    <data struct="Wind" structType="string *" fromMain="rwyCourse1" structName="course"/>
                    <data struct="Wind" structType="RWY_SIDE" fromConst="RWY_SIDE::AT_CENTER_FROM_COURSE" structName="winDir"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_speed2_fc1" pattern="&amp;021.+;" field="AWOS_W_SPEED_2_FC1" required="false" next="m_w_minspeed10_fc1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_SPEED_2_FC1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed2"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_minspeed10_fc1" pattern="&amp;022.+;" field="AWOS_W_MIN_SPEED_10_FC1" required="false" next="m_w_maxspeed10_fc1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_MIN_SPEED_10_FC1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed10Min"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_maxspeed10_fc1" pattern="&amp;023.+;" field="AWOS_W_MAX_SPEED_10_FC1" required="false" next="m_w_speed_change_fc1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_MAX_SPEED_10_FC1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed10Max"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_speed_change_fc1" pattern="&amp;024.+;" field="AWOS_W_SPEED_CHANGE_FC1" required="false" next="m_w_lat_speed_fc1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_SPEED_CHANGE_FC1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="string" structName="windChange"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_lat_speed_fc1" pattern="&amp;025.+;" field="AWOS_W_LAT_SPEED_FC1" required="false" next="m_w_lon_speed_fc1">
            <key pattern="&amp;\d{3}\s"/>
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windLat"/>
                </listdata>
        </state>
        <state name="m_w_lon_speed_fc1" pattern="&amp;026.+;" field="AWOS_W_LON_SPEED_FC1" required="false" next="m_w_gust_fc1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_LON_SPEED_FC1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windLon"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_gust_fc1" pattern="&amp;027.+;" field="AWOS_W_GUST_SPEED_FC1" required="false" next="m_w_dir_fc2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_GUST_SPEED_FC1">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windGust"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_dir_fc2" pattern="&amp;030.+;" field="AWOS_W_DIRECTION_FC2" required="false" next="m_w_speed2_fc2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_DIRECTION_FC2">
                <listdata structType="List Wind" structName="wind" create="true">
                    <data struct="Wind" structType="int" structName="winDir"/>
                    <data struct="Wind" structType="string *" fromMain="rwyCourse2" structName="course"/>
                    <data struct="Wind" structType="RWY_SIDE" fromConst="RWY_SIDE::FROM_COURSE" structName="winDir"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_speed2_fc2" pattern="&amp;031.+;" field="AWOS_W_SPEED_2_FC2" required="false" next="m_w_minspeed10_fc2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_SPEED_2_FC2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed2"/>
                </listdata>""/>
            </value>
        </state>
        <state name="m_w_minspeed10_fc2" pattern="&amp;032.+;" field="AWOS_W_MIN_SPEED_10_FC2" required="false" next="m_w_maxspeed10_fc2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_MIN_SPEED_10_FC2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed10Min"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_maxspeed10_fc2" pattern="&amp;033.+;" field="AWOS_W_MAX_SPEED_10_FC2" required="false" next="m_w_speed_change_fc2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_MAX_SPEED_10_FC2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed10Max"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_speed_change_fc2" pattern="&amp;034.+;" field="AWOS_W_SPEED_CHANGE_FC2" required="false" next="m_w_lat_speed_fc2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_SPEED_CHANGE_FC2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="string" structName="windChange"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_lat_speed_fc2" pattern="&amp;035.+;" field="AWOS_W_LAT_SPEED_FC2" required="false" next="m_w_lon_speed_fc2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_LAT_SPEED_FC2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windLat"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_lon_speed_fc2" pattern="&amp;036.+;" field="AWOS_W_LON_SPEED_FC2" required="false" next="m_w_gust_fc2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_LON_SPEED_FC2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windLon"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_gust_fc2" pattern="&amp;037.+;" field="AWOS_W_GUST_SPEED_FC2" required="false" next="m_w_dir_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_GUST_SPEED_FC2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windGust"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_dir_c2" pattern="&amp;040.+;" field="AWOS_W_DIRECTION_C2" required="false" next="m_w_speed2_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_DIRECTION_C2">
                  <listdata structType="List Wind" structName="wind" create="true">
                    <data struct="Wind" structType="int" structName="winDir"/>
                    <data struct="Wind" structType="string *" fromMain="rwyCourse2" structName="course"/>
                    <data struct="Wind" structType="RWY_SIDE" fromConst="RWY_SIDE::AT_CENTER_FROM_COURSE" structName="winDir"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_speed2_c2" pattern="&amp;041.+;" field="AWOS_W_SPEED_2_C2" required="false" next="m_w_minspeed10_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_SPEED_2_C2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed2"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_minspeed10_c2" pattern="&amp;042.+;" field="AWOS_W_MIN_SPEED_10_C2" required="false" next="m_w_maxspeed10_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_MIN_SPEED_10_C2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed10Min"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_maxspeed10_c2" pattern="&amp;043.+;" field="AWOS_W_MAX_SPEED_10_C2" required="false" next="m_w_speed_change_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_MAX_SPEED_10_C2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windSpeed10Max"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_speed_change_c2" pattern="&amp;044.+;" field="AWOS_W_SPEED_CHANGE_C2" required="false" next="m_w_lat_speed_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_SPEED_CHANGE_C2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="string" structName="windChange"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_lat_speed_c2" pattern="&amp;045.+;" field="AWOS_W_LAT_SPEED_C2" required="false" next="m_w_lon_speed_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_LAT_SPEED_C2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windLat"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_lon_speed_c2" pattern="&amp;046.+;" field="AWOS_W_LON_SPEED_C2" required="false" next="m_w_gust_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_LON_SPEED_C2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windLon"/>
                </listdata>
            </value>
        </state>
        <state name="m_w_gust_c2" pattern="&amp;047.+;" field="AWOS_W_GUST_SPEED_C2" required="false" next="m_vis_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="W_GUST_SPEED_C2">
                <listdata structType="List Wind" structName="wind">
                    <data struct="Wind" structType="float" structName="windGust"/>
                </listdata>
            </value>
        </state>
        <state name="m_vis_c1" pattern="&amp;060.+;" field="AWOS_C_VISIBILITY_COURSE_1" required="false" next="m_vis_fc1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_VISIBILITY_COURSE_1">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="visibility_Course1"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="VISIBILITY_COURSE_1"/>
            </value>
        </state>
        <state name="m_vis_fc1" pattern="&amp;061.+;" field="AWOS_C_VISIBILITY_FC_COURSE_1" required="false" next="m_vis_fc2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_VISIBILITY_FC_COURSE_1">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="visibility_FC_Course1"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="VISIBILITY_FC_COURSE_1"/>
            </value>
        </state>
        <state name="m_vis_fc2" pattern="&amp;062.+;" field="AWOS_C_VISIBILITY_FC_COURSE_2" required="false" next="m_vis_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_VISIBILITY_FC_COURSE_2">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="visibility_FC_Course2"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="VISIBILITY_FC_COURSE_2"/>
            </value>
        </state>
        <state name="m_vis_c2" pattern="&amp;063.+;" field="AWOS_C_VISIBILITY_COURSE_2" required="false" next="m_rwy_vis_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_VISIBILITY_COURSE_2">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="visibility_Course2"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="VISIBILITY_COURSE_2"/>
            </value>
        </state>
        <state name="m_rwy_vis_c1" pattern="&amp;070.+;" field="AWOS_C_RUNWAY_VISIBILITY_RANGE_COURSE_1" required="false" next="m_rwy_vis_fc1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_RUNWAY_VISIBILITY_RANGE_COURSE_1">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="rvr_Course1"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="RVR_COURSE_1"/>
            </value>
        </state>
        <state name="m_rwy_vis_fc1" pattern="&amp;071.+;" field="AWOS_C_RUNWAY_VISIBILITY_RANGE_FC_COURSE_1" required="false" next="m_rwy_vis_fc2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_RUNWAY_VISIBILITY_RANGE_FC_COURSE_1">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="rvr_FC_Course1"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="RVR_FC_COURSE_1"/>
            </value>
        </state>
        <state name="m_rwy_vis_fc2" pattern="&amp;072.+;" field="AWOS_C_RUNWAY_VISIBILITY_RANGE_FC_COURSE_2" required="false" next="m_rwy_vis_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_RUNWAY_VISIBILITY_RANGE_FC_COURSE_2">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="rvr_FC_Course2"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="RVR_FC_COURSE_2"/>
            </value>
        </state>
        <state name="m_rwy_vis_c2" pattern="&amp;073.+;" field="AWOS_C_RUNWAY_VISIBILITY_RANGE_COURSE_2" required="false" next="m_weather_cond_int">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_RUNWAY_VISIBILITY_RANGE_COURSE_2">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="rvr_Course2"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="RVR_COURSE_2"/>
            </value>
        </state>
        <state name="m_weather_cond_int" pattern="&amp;080.+;" field="AWOS_C_WEATHER_CONDITION_INTENSIVITY" required="false" next="m_weather_type">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_WEATHER_CONDITION_INTENSIVITY">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="weatherCondition"/>
                </structdata>                
                <db table="AWOS_CAVOK" dbfield="WEATHER_CONDITION"/>
            </value>
        </state>
        <state name="m_weather_type" pattern="&amp;081.+;" field="AWOS_C_WEATHER_TYPE" required="false" next="m_weather_decoded">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_WEATHER_TYPE">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="weather"/>
                </structdata>                    
                <db table="AWOS_CAVOK" dbfield="WEATHER"/>
            </value>
        </state>
        <state name="m_weather_decoded" pattern="&amp;082.+;" field="AWOS_C_WEATHER_DECODED" required="false" next="m_low_clouds_cnt">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_WEATHER_DECODED">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="weatherAsText"/>
                </structdata>                       
                <db table="AWOS_CAVOK" dbfield="WEATHER_DECODED"/>
            </value>
        </state>
        <state name="m_low_clouds_cnt" pattern="&amp;090.+;" field="AWOS_C_LOW_CLOUDS_COUNT" required="false" next="m_low_clouds_oct">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_LOW_CLOUDS_COUNT">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="lowCloudsCount"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="LOW_CLOUDS_COUNT"/>
            </value>
        </state>
        <state name="m_low_clouds_oct" pattern="&amp;091.+;" field="AWOS_C_LOW_CLOUDS_OCTANE" required="false" next="m_low_clouds_vis_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_LOW_CLOUDS_OCTANE">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="lowCloudsOctane"/>
                </structdata>                
                <db table="AWOS_CAVOK" dbfield="LOW_CLOUDS_OCTANE"/>
            </value>
        </state>
        <state name="m_low_clouds_vis_c1" pattern="&amp;092.+;" field="AWOS_C_LOW_CLOUDS_VISIBILITY_COURSE_1" required="false" next="m_low_clouds_vis_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_LOW_CLOUDS_VISIBILITY_COURSE_1">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="lowCloudsVisibility_c1"/>
                </structdata>                  
                <db table="AWOS_CAVOK" dbfield="LOW_CLOUDS_VISIBILITY_COURSE_1"/>
            </value>
        </state>
        <state name="m_low_clouds_vis_c2" pattern="&amp;093.+;" field="AWOS_C_LOW_CLOUDS_VISIBILITY_COURSE_2" required="false" next="m_clouds_cnt">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_LOW_CLOUDS_VISIBILITY_COURSE_2">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="lowCloudsVisibility_c2"/>
                </structdata>                  
                <db table="AWOS_CAVOK" dbfield="LOW_CLOUDS_VISIBILITY_COURSE_2"/>
            </value>
        </state>
        <state name="m_clouds_cnt" pattern="&amp;094.+;" field="AWOS_C_CLOUDS_COUNT" required="false" next="m_clouds_oct">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_CLOUDS_COUNT">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="cloudsCount"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="CLOUDS_COUNT"/>
            </value>
        </state>
        <state name="m_clouds_oct" pattern="&amp;095.+;" field="AWOS_C_CLOUDS_OCTANE" required="false" next="m_clouds_cond">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_CLOUDS_OCTANE">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="int" structName="cloudsOctane"/>
                </structdata>                
                <db table="AWOS_CAVOK" dbfield="CLOUDS_OCTANE"/>
            </value>
        </state>
        <state name="m_clouds_cond" pattern="&amp;096.+;" field="AWOS_C_CLOUDS_CONDITION" required="false" next="m_clouds_type">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_CLOUDS_CONDITION">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="cloudsCondition"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="CLOUDS_CONDITION"/>
            </value>
        </state>
        <state name="m_clouds_type" pattern="&amp;097.+;" field="AWOS_C_CLOUDS_TYPE" required="false" next="m_temp">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_CLOUDS_TYPE">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="cloudsType"/>
                </structdata>
                <db table="AWOS_CAVOK" dbfield="CLOUDS_TYPE"/>
            </value>
        </state>
        <state name="m_temp" pattern="&amp;100.+;" field="AWOS_M_TEMP" required="false" next="m_dew_point">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_TEMP">
                <data structType="int" structName="temp"/>
                <db dbfield="TEMP"/>
            </value>
        </state>
        <state name="m_dew_point" pattern="&amp;101.+;" field="AWOS_M_DEW_POINT" required="false" next="m_humidity">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_DEW_POINT">
                <data structType="int" structName="dewPoint"/>
                <db dbfield="dewPoint"/>
            </value>
        </state>
        <state name="m_humidity" pattern="&amp;102.+;" field="AWOS_M_HUMIDITY" required="false" next="m_qnh">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_HUMIDITY">
                <data structType="int" structName="humidity"/>
                <db dbfield="HUMIDITY"/>
            </value>
        </state>
        <state name="m_qnh" pattern="&amp;110.+;" field="AWOS_M_QNH" required="false" next="m_qnh_hpa_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_QNH_MM">
                <data structType="int" structName="qnh_mm"/>
                <db dbfield="QHN_MM"/>
            </value>
        </state>
        <state name="m_qnh_hpa_c1" pattern="&amp;111.+;" field="AWOS_M_QNH_HPA" required="false" next="m_qfe_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_QNH_HPA">
                <data structType="int" structName="qnh_Hpa"/>
                <db dbfield="QHN_HPA"/>
            </value>
        </state>
        <state name="m_qfe_c1" pattern="&amp;112.+;" field="AWOS_M_QFE_COURSE_1" required="false" next="m_qfe_hpa_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_QFE_COURSE_1">
                <data structType="int" structName="qfe_c1_mm"/>
                <db dbfield="QFE_MM_C1"/>
            </value>
        </state>
        <state name="m_qfe_hpa_c1" pattern="&amp;113.+;" field="AWOS_M_QFE_HPA_COURSE_1" required="false" next="m_qfe_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_QFE_COURSE_1">
                <data structType="int" structName="qfe_c1_Hpa"/>
                <db dbfield="QFE_HPA_C1"/>
            </value>
        </state>
        <state name="m_qfe_c2" pattern="&amp;114.+;" field="AWOS_M_QFE_COURSE_2" required="false" next="m_qfe_hpa_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_QFE_COURSE_2">
                <data structType="int" structName="qfe_c2_mm"/>
                <db dbfield="QFE_MM_C2"/>
            </value>
        </state>
        <state name="m_qfe_hpa_c2" pattern="&amp;115.+;" field="AWOS_M_QFE_HPA_COURSE_2" required="false" next="m_trend">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_QFE_COURSE_2">
                <data structType="int" structName="qfe_c2_hpa"/>
                <db dbfield="QFE_HPA_C2"/>
            </value>
        </state>
        <state name="m_trend" pattern="&amp;120.+;" field="AWOS_M_TREND" required="false" next="m_rwy_condition_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_TREND">
                <data structType="string" structName="trend"/>
                <db dbfield="TREND"/>
            </value>
        </state>
        <state name="m_rwy_condition_c1" pattern="&amp;130.+;" field="AWOS_M_RUNWAY_CONDITION_COURSE_1" required="false" next="m_rwy_condition_c">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_RUNWAY_CONDITION_COURSE_1">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="rwyCondition_c1"/>
                </structdata>                
                <db table="AWOS_CAVOK" dbfield="RUNWAY_CONDITION_COURSE_1"/>
            </value>
        </state>
        <state name="m_rwy_condition_c" pattern="&amp;131.+;" field="AWOS_M_RUNWAY_CONDITION_CENTER" required="false" next="m_rwy_condition_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_RUNWAY_CONDITION_CENTER">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="rwyCondition_center"/>
                </structdata>                                
                <db dbfield="RUNWAY_CONDITION_CENTER"/>
            </value>
        </state>
        <state name="m_rwy_condition_c2" pattern="&amp;132.+;" field="AWOS_M_RUNWAY_CONDITION_COURSE_2" required="false" next="m_rwy_clutch_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_RUNWAY_CONDITION_COURSE_2">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="rwyCondition_c2"/>
                </structdata>                                
                <db dbfield="RUNWAY_CONDITION_COURSE_2"/>
            </value>
        </state>
        <state name="m_rwy_clutch_c1" pattern="&amp;133.+;" field="AWOS_M_RUNWAY_CLUTCH_COURSE_1" required="false" next="m_rwy_clutch_c">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_RUNWAY_CLUTCH_COURSE_1">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="rwyClutch_c1"/>
                </structdata>                                
                <db dbfield="RUNWAY_CLUTCH_COURSE_"/>
            </value>
        </state>
        <state name="m_rwy_clutch_c" pattern="&amp;134.+;" field="AWOS_M_RUNWAY_CLUTCH_CENTER" required="false" next="m_rwy_clutch_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_RUNWAY_CLUTCH_CENTER">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="rwyClutch_center"/>
                </structdata>                                        
                <db dbfield="RUNWAY_CLUTCH_CENTER"/>
            </value>
        </state>
        <state name="m_rwy_clutch_c2" pattern="&amp;135.+;" field="AWOS_M_RUNWAY_CLUTCH_COURSE_2" required="false" next="m_turb">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_RUNWAY_CLUTCH_COURSE_2">
                <data structType="string" structName="rwyClutch_c2"/>
                <db dbfield="RUNWAY_CLUTCH_COURSE_"/>
            </value>
        </state>
        <state name="m_turb" pattern="&amp;140.+;" field="AWOS_M_TURBULENCE" required="false" next="m_ice">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_TURBULENCE">
                <data structType="string" structName="turbulence"/>
                <db dbfield="TURBULENCE"/>
            </value>
        </state>
        <state name="m_ice" pattern="&amp;141.+;" field="AWOS_M_ICING" required="false" next="m_w_shear">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_ICING">
                <data structType="string" structName="icig"/>
                <db dbfield="ICING"/>
            </value>
        </state>
        <state name="m_w_shear" pattern="&amp;142.+;" field="AWOS_M_WIND_SHEAR" required="false" next="m_obsc">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_WIND_SHEAR">
                <data structType="string" structName="windShear"/>
                <db dbfield="WIND_SHEAR"/>
            </value>
        </state>
        <state name="m_obsc" pattern="&amp;143.+;" field="AWOS_M_OBSC" required="false" next="m_cloud_elect">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_OBSC">
                <data structType="string" structName="obsc"/>
                <db dbfield="OBSC"/>
            </value>
        </state>
        <state name="m_cloud_elect" pattern="&amp;144.+;" field="AWOS_M_CLOUD_ELECTRIZATION" required="false" next="m_high_clouds_oct">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_CLOUD_ELECTRIZATION">
                <data structType="string" structName="cloudElectrization"/>
                <db dbfield="CLOUD_ELECTRIZATION"/>
            </value>
        </state>
        <state name="m_high_clouds_oct" pattern="&amp;190.+;" field="AWOS_C_HIGH_CLOUDS_OCTANE" required="false" next="m_high_clouds_vis_c1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_HIGH_CLOUDS_OCTANE">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="highCloudsOctane"/>
                </structdata>                                
                <db dbfield="HIGH_CLOUDS_OCTANE"/>
            </value>
        </state>
        <state name="m_high_clouds_vis_c1" pattern="&amp;191.+;" field="AWOS_C_HIGH_CLOUDS_VISIBILITY_COURSE_1" required="false" next="m_high_clouds_vis_c2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_HIGH_CLOUDS_VISIBILITY_COURSE_1">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="highCloudsVisibility_c1"/>
                </structdata>                                
                <db dbfield="HIGH_CLOUDS_VISIBILITY_COURSE_1"/>
            </value>
        </state>
        <state name="m_high_clouds_vis_c2" pattern="&amp;192.+;" field="AWOS_C_HIGH_CLOUDS_VISIBILITY_COURSE_2" required="false" next="m_high_clouds_type">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_HIGH_CLOUDS_VISIBILITY_COURSE_2">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="highCloudsVisibility_c2"/>
                </structdata>                                
                <db dbfield="HIGH_CLOUDS_VISIBILITY_COURSE_2"/>
            </value>
        </state>
        <state name="m_high_clouds_type" pattern="&amp;193.+;" field="AWOS_C_HIGH_CLOUDS_TYPE" required="false" next="m_atis">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="C_HIGH_CLOUDS_TYPE">
                <structdata structType="Cavok" structName="cavok">
                    <data structType="string" structName="highCloudsType"/>
                </structdata>                                
                <db dbfield="HIGH_CLOUDS_TYPE"/>
            </value>
        </state>
        <state name="m_atis" pattern="&amp;200.+;" field="AWOS_M_ATIS" required="false" next="m_height_lvl1">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_ATIS">
                <data structType="string" structName="atis"/>
                <db dbfield="ATIS"/>
            </value>
        </state>
        <state name="m_height_lvl1" pattern="&amp;201.+;" field="AWOS_M_HEIGHT_LEVEL_1" required="false" next="m_height_lvl2">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_HEIGHT_LEVEL_1">
                <data structType="string" structName="heightLvl1"/>
                <db dbfield="HEIGHT_LEVEL_1"/>
            </value>
        </state>
        <state name="m_height_lvl2" pattern="&amp;202.+;" field="AWOS_M_HEIGHT_LEVEL_2" required="false" next="m_height_lvl3">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_HEIGHT_LEVEL_2">
                <data structType="string" structName="heightLvl2"/>
                <db dbfield="HEIGHT_LEVEL_2"/>
            </value>
        </state>
        <state name="m_height_lvl3" pattern="&amp;203.+;" field="AWOS_M_HEIGHT_LEVEL_3" required="false" next="m_fin">
            <key pattern="&amp;\d{3}\s"/>
            <value pattern="^.+;" del=";+" field="M_HEIGHT_LEVEL_3">
                <data structType="string" structName="heightLvl3"/>
                <db dbfield="HEIGHT_LEVEL_3"/>
            </value>
        </state>
        <state name="m_fin" pattern="^NNNN(\n|\r)?" field="AWOS_С_FIN" required="false" next="FINFIN">
        </state>
    </meteo>    
<!-- ######################################################################################### -->            
<!-- ######################################################################################### -->        
<!-- ###################################### METAR ############################################ -->    
<!-- ######################################################################################### -->        
<!-- ######################################################################################### -->            
    <meteo type="2" name="METAR" struct="MetarMeteoStruct" parent="MetarMeteoPrototype">
        <state name="fLine" pattern="^ZCZC(\r\n|\r|\n)\d{2}\s\d{4}(\r\n|\r|\n)" field="METAR_F_LINE_TRASH" required="false" next="fLine2"/>
        <state name="fLine2" pattern="TYPE:(METAR|SPECI).+(\r\n|\r|\n)" field="METAR_F_LINE3_TRASH" required="false" next="fLine3"/>
        <state name="fLine3" pattern="ID:.+(\n|\r)" field="METAR_F_LINE4_TRASH" required="false" next="fLineEx"/>
        <state name="fLineEx" pattern="CANCEL:\d+(\n|\r)" field="METAR_C_VALIDDATE" required="false" next="m_head">
            <key pattern="CANCEL:"/>
            <value pattern="\d+(\n|\r)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="CANCEL_DATE">
                <data structType="datetime" format="yyMMddhhmm" structName="cancelDate"/>
                <db dbfield="CANCEL_DATE"/>
            </value>
        </state>
        <state name="m_head" pattern="(METAR|SPECI)\s(COR\s)?.{4}\s\d{6}Z" field="METAR_HEAD" required="true" next="m_Auto">
            <key pattern="Z$"/>
            <value pattern="^(METAR|SPECI)\s(COR\s)?" del="\s$" minimalCap="false" field="METAR_TYPE">
                <data structType="string" structName="type"/>
                <db dbfield="TYPE"/>
            </value>
            <value pattern="^.{4}\s" del="\s" field="METAR_ICAO">
                <data structType="string" structName="icao"/>
                <db dbfield="ICAO"/>
            </value>
            <value pattern="^\d{2}\d{4}" field="METAR_DT">
                <data structType="datetime" format="ddhhmm" structName="DT"/>
                <db dbfield="DT"/>
            </value>
        </state>        
        <state name="m_Auto" pattern="AUTO" field="METAR_IS_AUTO" required="false" next="m_Empty">
            <value pattern="^AUTO" field="IS_AUTO"/>
        </state>
        <state name="m_Empty" pattern="NIL" field="METAR_IS_EMPTY" required="false" next="m_scf_wind_dir">
            <value pattern="^NIL" field="IS_EMPTY"/>
        </state>
        <state name="m_scf_wind_dir" pattern="(\d{3}|VRB)P?\d{2,3}(GP?\d{2,3})?(MPS|KT)\s?(\d{3}V\d{3}\s)?(\d{4}|CAVOK)\s?(\d{4}(N|S)?(E|W)?)?" field="METAR_SFCWIND_VIS" required="false" next="m_rvr">
            <value pattern="^(\d{3}|VRB)\s?" del="\s" minimalCap="false" field="SFCWINDDIR">
                <data structType="string" structName="windDirection"/>
                <db dbfield="WIND_DIRECTION"/>
            </value>
            <value pattern="^P?\d{2,3}" replace="P|+" field="SFCWINDSPD">
                <data structType="int" structName="windSpeed"/>
                <db dbfield="WIND_SPEED"/>
            </value>
            <value pattern="^GP?\d{2,3}" del="G" replace="P|+" field="SFCWINDGUST">
                <data structType="int" structName="windGust"/>
                <db dbfield="WIND_GUST"/>
            </value>
            <value pattern="^(MPS|KT)\s?" del="\s" minimalCap="false" field="SFCWINDMES">
                <data structType="string" structName="windMeasure"/>
                <db dbfield="WIND_MEASURE"/>
            </value>
            <value pattern="^\d{3}V\d{3}\s?" del="\s" minimalCap="false" field="SFCWINDCHANGE">
                <data structType="string" structName="windChage"/>
                <db dbfield="WIND_CHANGE"/>
            </value>
            <value pattern="^(\d{4}|CAVOK)\s?" del="\s" replace="CAVOK|9999" minimalCap="false" field="VISIBILITY">
                <data structType="int" structName="visibility"/>
                <db dbfield="VISIBILITY"/>
            </value>
            <value pattern="^\d{4,5}(N|S)?(E|W)?" minimalCap="false" field="MINVISIBILITY">
                <data structType="string" structName="minVIsibility"/>
                <db dbfield="MIN_VISIBILITY"/>
            </value>
        </state>
        <state name="m_rvr" pattern="R\d{2}(L|R|C)?\/(P|M)?\d{4}\(\sR\d{2}(L|R|C)?\/(P|M)?\d{4})?" field="METAR_R_RVR" required="false" next="m_cur_weather">
            <value pattern="^R\d{2}(L|R|C)?\/" del="\/" field="R_RVRVPP">
                <data structType="string" structName="rvrRwy"/>
                <db dbfield="RVR_RUNWAY"/>
            </value>
            <value pattern="^(P|M)?\d{4}\s?" del="\s" minimalCap="false" field="R_RVR">
                <data structType="string" structName="rvr"/>
                <db dbfield="RVR"/>
            </value>
            <value pattern="^R\d{2}(L|R|C)?\/" del="\/" minimalCap="false" field="R_PREV_RVRVPPP">
                <data structType="string" structName="pRvrRwy"/>
                <db dbfield="PREV_RVR_RUNWAY"/>
            </value>
            <value pattern="^(P|M)?\d{4}" field="R_PREV_RVR">
                <data structType="string" structName="pRvr"/>
                <db dbfield="PREV_RVR"/>
            </value>
        </state>
        <state name="m_cur_weather" pattern="\s(\+|-|VC)?(DZ|RA|SN|SG|PL|DS|SS|FZDZ|FZRA|FZUP|FC|SHGR|SHGS|SHRA|SHSN|SHUP|TSGR|TSGS|TSRA|TSSN|TSUP|UP|IC|FG|BR|SA|DU|HZ|FU|VA|SQ|PO|TS|BCFG|BLDU|BLSA|BLSN|DRDU|DRSA|DRSN|FZFG|MIFG|PRFG)\s?(FG|PO|FC|DS|SS|TS|SH|BLSN|BLSA|BLDU|VA)?\s?(DZ|RA|SN|SG|PL|DS|SS|FZDZ|FZRA|FZUP|FC|SHGR|SHGS|SHRA|SHSN|SHUP|TSGR|TSGS|TSRA|TSSN|TSUP|UP|IC|FG|BR|SA|DU|HZ|FU|VA|SQ|PO|TS|BCFG|BLDU|BLSA|BLSN|DRDU|DRSA|DRSN|FZFG|MIFG|PRFG)?" field="METAR_CURWEATHER" required="false" next="m_cloud">
            <value pattern="^(\+|-|VC)?(DZ|RA|SN|SG|PL|DS|SS|FZDZ|FZRA|FZUP|FC|SHGR|SHGS|SHRA|SHSN|SHUP|TSGR|TSGS|TSRA|TSSN|TSUP|UP|IC|FG|BR|SA|DU|HZ|FU|VA|SQ|PO|TS|BCFG|BLDU|BLSA|BLSN|DRDU|DRSA|DRSN|FZFG|MIFG|PRFG)\s?(FG|PO|FC|DS|SS|TS|SH|BLSN|BLSA|BLDU|VA)?\s?(DZ|RA|SN|SG|PL|DS|SS|FZDZ|FZRA|FZUP|FC|SHGR|SHGS|SHRA|SHSN|SHUP|TSGR|TSGS|TSRA|TSSN|TSUP|UP|IC|FG|BR|SA|DU|HZ|FU|VA|SQ|PO|TS|BCFG|BLDU|BLSA|BLSN|DRDU|DRSA|DRSN|FZFG|MIFG|PRFG)?" minimalCap="false" repeated="true" concat=" " field="CURWEATHER">
                <data structType="string" structName="weather"/>
                <db dbfield="WEATHER"/>
            </value>
        </state>
        <state name="m_cloud" pattern="(SCT|FEW|BKN|OVC)(\d{3}|\/\/\/)(\sVV(\d{3}|\/\/\/))?(\sNSC|\sNCD)?\s?(CB|TCU)?" field="METAR_CLOUD" required="false" next="m_temp_dew_pressure">
            <value pattern="^(SCT|FEW|BKN|OVC)(\d{3}|\/\/\/)(\sVV(\d{3}|\/\/\/))?(\sNSC)?\s?(CB|TCU)?\s?" del="\s$" minimalCap="false" repeated="true" concat=" " field="CLOUD">
                <data structType="string" structName="clouds"/>
                <db dbfield="CLOUDS"/>
            </value>
        </state>
        <state name="m_temp_dew_pressure" pattern="M?\d{2}\/M?\d{2}\sQ?\d{4}" field="METAR_M_TEMP_DEW_QNH" required="false" next="m_prev_weather">
            <key pattern="=(\r|\n|\r\n)"/>
            <value pattern="^M?\d{2}\/" del="\/" replace="M|-" field="M_TEMP">
                <data structType="int" structName="temp"/>
                <db dbfield="TEMP"/>
            </value>
            <value pattern="^M?\d{2}\s" del="\s" replace="M|-" field="M_DEW_POINT">
                <data structType="int" structName="dewPoint"/>
                <db dbfield="DEW_POINT"/>
            </value>
            <value pattern="^Q?\d{4}" del="Q" field="Q_PRESURE">
                <data structType="int" structName="presure"/>
                <db dbfield="QNH"/>
            </value>
        </state>
        <state name="m_prev_weather" pattern="(REFZDZ|REFZRA|REDZ|RE(SH)?RA|RERASN|RE(SH)?SN|RESG|RESHGR|RESHGS|REBLSN|RESS|REDS|RETSRA|RETSSN|RETSGR|RETSGS|RETS|REFC|REVA|REPL|REUP|REFZUP|RETSUP|RESHUP)" field="METAR_PREV_WEATHER" required="false" next="m_wind_shear">
            <key pattern="=(\r|\n|\r\n)"/>
            <value pattern="^(REFZDZ|REFZRA|REDZ|RE(SH)?RA|RERASN|RE(SH)?SN|RESG|RESHGR|RESHGS|REBLSN|RESS|REDS|RETSRA|RETSSN|RETSGR|RETSGS|RETS|REFC|REVA|REPL|REUP|REFZUP|RETSUP|RESHUP)" repeated="true" concat=" " field="PREV_WEATHER">
                <data structType="string" structName="prevWeather"/>
                <db dbfield="PREV_WEATHER"/>
            </value>
        </state>
        <state name="m_wind_shear" pattern="WS\s(R\d{2}(L|C|R)?|ALL\sRWY)" field="METAR_WINDSHEAR" required="false" next="m_sea_temp">
            <key pattern="=(\r|\n|\r\n)"/>
            <value pattern="^WS\s(R\d{2}(L|C|R)?|ALL\sRWY)" minimalCap="false" field="WINDSHEAR">
                <data structType="string" structName="windShear"/>
                <db dbfield="WIND_SHEAR"/>
            </value>
        </state>
        <state name="m_sea_temp" pattern="W(M)?\d{2}\/(S\d|H\d{1,3})" field="METAR_SEATEMP" required="false" next="m_vpp_state">
            <key pattern="=(\r|\n|\r\n)"/>
            <value pattern="^W(M)?\d{2}\/(S\d|H\d{1,3})" field="SEATEMP">
                <data structType="string" structName="seaTemp"/>
                <db dbfield="SEA_TEMP"/>
            </value>
        </state>
        <state name="m_vpp_state" pattern="R(\d{2}(R|L|C)?\/(CLRD\/{2}|(\/|\d){0,2}(\/{2}|\d{2}){0,2})|\/SNOCLO)" field="METAR_VPPSTATE" required="false" next="m_trend">
            <key pattern="=(\r|\n|\r\n)"/>
            <value pattern="^R\d{2}(R|L|C)?\/" del="\/$" field="VPPSTATE_RWY">
                <structdata structType="rwyStateStruct" structName="rwyState">
                    <data structType="string" structName="rwy"/>
                </structdata>                
                <db dbfield="RUNWAY_STATE" multiValue="true" concat="|"/>
            </value>
            <value pattern="^(\/|\d)" replace="/|0" field="VPPSTATE_SCURF">
                <structdata structType="rwyStateStruct" structName="rwyState">
                    <data structType="int" structName="scurf"/>
                </structdata>                
                <db dbfield="RUNWAY_STATE" multiValue="true" concat="|"/>
            </value>
            <value pattern="^(\/|\d)" replace="/|0" field="VPPSTATE_POLLUTION">
                <structdata structType="rwyStateStruct" structName="rwyState">
                    <data structType="int" structName="pollution"/>
                </structdata>                
                <db dbfield="RUNWAY_STATE" multiValue="true" concat="|"/>
            </value>
            <value pattern="^(\/{2}|\d{2})" replace="//|0" field="VPPSTATE_SCURF_HEIGHT">
                <structdata structType="rwyStateStruct" structName="rwyState">
                    <data structType="int" structName="scurfHeight"/>
                </structdata>                
                <db dbfield="RUNWAY_STATE" multiValue="true" concat="|"/>
            </value>
            <value pattern="^(\/{2}|\d{2})" replace="//|0" field="VPPSTATE_CLUTCH">
                <structdata structType="rwyStateStruct" structName="rwyState">
                    <data structType="int" structName="clutch"/>
                </structdata>                
                <db dbfield="RUNWAY_STATE" multiValue="true" concat="|"/>
            </value>
            <value pattern="^CLRD\/{2}" field="VPPSTATE_CLRD">
                <structdata structType="rwyStateStruct" structName="rwyState">
                    <data structType="bool" structName="rwyCleared"/>
                </structdata>                
                <db dbfield="RUNWAY_STATE" multiValue="true" concat="|"/>
            </value>
            <value pattern="^R\/SNOCLO" field="VPPSTATE">
                <structdata structType="rwyStateStruct" structName="rwyState">
                    <data structType="bool" structName="rwySNOCLO"/>
                </structdata>                
                <db dbfield="RUNWAY_STATE" multiValue="true"/>
            </value>
        </state>
        <state name="m_trend" pattern="(NOSIG|BECMG|TEMPO)" field="METAR_TREND" required="false" repeated="true" concat="\n" next="m_fin">
            <key pattern="=(\r|\n|\r\n)"/>
            <value pattern="^(NOSIG|BECMG|TEMPO)\s?=?" del="\s=?" minimalCap="false" field="TREND">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" create="true">
                    <data struct="Trend" structType="string" structName="trend"/>
                </listdata>
                <db dbfield="TREND" value="joinedTrend" multiValue="true" concat="|"/>
            </value>
            <value pattern="^(FM|TL|AT)?\d{4}\s?" del="\s" minimalCap="false" field="TREND_PERIOD_START">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" >
                    <data struct="Trend" structType="string" structName="trendStart"/>
                </listdata>                
            </value>
            <value pattern="^(FM|TL|AT)?\d{4}\s?" del="\s" minimalCap="false" field="TREND_PERIOD_END">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" >
                    <data struct="Trend" structType="string" structName="trendEnd"/>
                </listdata>                                
            </value>
            <value pattern="^(\d{3}|VRB)P?\d{2,3}(GP?\d{2,3})?">
                <subvalue pattern="^(\d{3}|VRB)" field="TREND_WINDDIR">
                    <data structType="string" structName="joinedTrend" multiValue="true" />
                    <listdata structType="List Trend" structName="trends" >
                        <data struct="Trend" structType="string" structName="windDirection"/>
                    </listdata>                                
                </subvalue>
                <subvalue pattern="P?\d{2,3}" replace="P|+" field="TREND_WINDSPD">
                    <data structType="string" structName="joinedTrend" multiValue="true" />
                    <listdata structType="List Trend" structName="trends" >
                        <data struct="Trend" structType="int" structName="windSpeed"/>
                    </listdata>                                
                </subvalue>
                <subvalue pattern="^GP?\d{2,3}" del="G" replace="P|+" field="TREND_WINDGUST">
                    <data structType="string" structName="joinedTrend" multiValue="true" />
                    <listdata structType="List Trend" structName="trends" >
                        <data struct="Trend" structType="int" structName="windDirection"/>
                    </listdata>                                
                </subvalue>                                
                <subvalue pattern="^(MPS|KT)\s?" field="TREND_WINDMES">
                    <data structType="string" structName="joinedTrend" multiValue="true" />
                    <listdata structType="List Trend" structName="trends" >
                        <data struct="Trend" structType="string" structName="windMeasure"/>
                    </listdata>                                
                </subvalue>                                                
            </value>
            <value pattern="^(\d{4}|CAVOK)\s?" del="\s" replace="CAVOK|9999" minimalCap="false" field="TREND_VISIBILITY">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" >
                    <data struct="Trend" structType="int" structName="visibility"/>
                </listdata>                                                
            </value>
            <value pattern="^(/+|-)?(DZ|RA|SN|SG|PL|DS|SS|FZDZ|FZRA|SHGR|SHGS|SHRA|SHSN|TSGR|TSGS|TSRA|TSSN|IC|FG|BR|SA|DU|HZ|FU|VA|SQ|PO|FC|TS|BCFG|BLDU|BLSA|BLSN|DRDU|DRSA|DRSN|FZFG|MIFG|PRFG|NSW)\s?" del="\s" minimalCap="false" repeated="true" concat=" " field="TREND_WEATHER">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" >
                    <data struct="Trend" structType="string" structName="weather"/>
                </listdata>                                                
            </value>
            <value pattern="^(SCT|FEW|BKN|OVC)(\d{3}|\/\/\/)(\sVV(\d{3}|\/\/\/))?(\sNSC)?\s?(CB|TCU)?\s?" del="\s$" minimalCap="false" repeated="true" concat=" " field="TREND_CLOUD">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" >
                    <data struct="Trend" structType="string" structName="clouds"/>
                </listdata>                                                
            </value>
        </state>
        <state name="m_fin" pattern="NNNN(\n|\r)?" field="METAR_С_FIN" required="false" next="FINFIN"/>        
    </meteo>    
<!-- ######################################################################################### -->            
<!-- ######################################################################################### -->        
<!-- ###################################### WIND ############################################# -->    
<!-- ######################################################################################### -->        
<!-- ######################################################################################### -->            
    <meteo type="5" name="WIND" struct="WindMeteoStruct" parent="WindMeteoPrototype">
        <state name="fLine" pattern="^ZCZC(\r\n|\r|\n)\d{2}\s\d{4}(\r\n|\r|\n)" field="WIND_F_LINE_TRASH" required="false" next="fLine2"/>
        <state name="fLine2" pattern="TYPE:WIND.+(\r\n|\r|\n)" field="WIND_F_LINE3_TRASH" required="false" next="fLine3"/>
        <state name="fLine3" pattern="ID:.+(\n|\r)" field="WIND_ICAO" required="false" next="fLineEx">
            <key pattern="ID:"/>
            <value pattern=".{4}(\n|\r)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="W_ICAO"/>            
        </state>
        <state name="fLineEx" pattern="CANCEL:\d+(\n|\r)" field="WIND_C_VALIDDATE" required="false" next="coord">
            <key pattern="CANCEL:"/>
            <value pattern="\d+(\n|\r)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="CANCEL_DATE">
                <data structType="datetime" format="yyMMddhhmm" structName="cancelDate"/>
                <db dbfield="CANCEL_DATE"/>
            </value>
        </state>
        <state name="coord" pattern="\d{4,6}(N|S)\d{5,7}(W|E)" field="WIND_COORD" required="true" next="wind">
            <value pattern="^\d{4,6}(N|S)" field="W_LAT">
                <data structType="string" structName="lat"/>
                <db dbfield="LAT"/>
            </value>
            <value pattern="^\d{5,7}(W|E)" field="W_LON">
                <data structType="string" structName="lon"/>
                <db dbfield="LON"/>
            </value>
        </state>        
        <state name="wind" pattern="\d{3}\s\d{3}\s\d{3}\s.{1,2}\d{1,2}" field="WIND" required="false" repeated="true" next="w_fin">
            <value pattern="^\d{3}\s" del="\s" field="WIND_HEIGHT">
                <listdata structType="List WindAtPoint" structName="wap" create="true">
                    <data struct="WindAtPoint" structType="int" scale="1/100" structName="height"/>
                </listdata>                
                <db dbfield="HEIGHT"/>
            </value>
            <value pattern="^\d{3}\s" del="\s" field="WIND_DIR">
                <listdata structType="List WindAtPoint" structName="wap">
                    <data struct="WindAtPoint" structType="int" structName="direction"/>
                </listdata>  
                <db dbfield="DIRECTION"/>
            </value>
            <value pattern="^\d{3}\s" del="\s" field="WIND_SPEED">
                <listdata structType="List WindAtPoint" structName="wap">
                    <data struct="WindAtPoint" structType="int" structName="speed"/>
                </listdata>  
                <db dbfield="SPEED"/>
            </value>
            <value pattern="^.{1,2}\d{1,2}=?(\n|\r|\n\r|\r\n)" del="(\s|(=?(\n|\r|\n\r|\r\n)?))+" field="WIND_TEMP">
                <listdata structType="List WindAtPoint" structName="wap">
                    <data struct="WindAtPoint" structType="int" structName="temp"/>
                </listdata>  
                <db dbfield="TEMP"/>
            </value>
        </state>
        <state name="w_fin" pattern="NNNN(\n|\r)?" field="WIND_С_FIN" required="false" next="FINFIN"/>        
    </meteo>
<!-- ######################################################################################### -->            
<!-- ######################################################################################### -->        
<!-- ###################################### TAF ############################################## -->    
<!-- ######################################################################################### -->        
<!-- ######################################################################################### -->     
    <meteo type="3" name="TAF" struct="TafMeteoStruct" parent="TafMeteoPrototype">
        <state name="fLine" pattern="^ZCZC(\r\n|\r|\n)\d{2}\s\d{4}(\r\n|\r|\n)" field="TAF_F_LINE_TRASH" required="false" next="fLine2"/>
        <state name="fLine2" pattern="TYPE:TAF.+(\r\n|\r|\n)" field="TAF_F_LINE3_TRASH" required="false" next="fLine3"/>
        <state name="fLine3" pattern="ID:.+(\n|\r)" field="TAF_ICAO" required="false" next="fLineEx"/>
        <state name="fLineEx" pattern="CANCEL:\d+(\n|\r)" field="TAF_C_VALIDDATE" required="false" next="t_head">
            <key pattern="CANCEL:"/>
            <value pattern="\d+(\n|\r)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="CANCEL_DATE">
                <data structType="datetime" format="yyMMddhhmm" structName="cancelDate"/>
                <db dbfield="CANCEL_DATE"/>
            </value>
        </state>        
        <state name="t_head" pattern="TAF\s(COR\s|AMD\s)?.{4}\s\d{6}Z" field="TAF_HEAD" required="true" next="t_scf_wind_dir">
            <key pattern="Z"/>
            <value pattern="^TAF\s(COR\s|AMD\s)?" del="\s$" minimalCap="false" field="TAF_TYPE">
                <data structType="string" structName="type"/>
                <db dbfield="TYPE"/>
            </value>
            <value pattern="^.{4}\s" del="\s" field="TAF_ICAO">
                <data structType="string" structName="icao"/>
                <db dbfield="ICAO"/>
            </value>
            <value pattern="^\d{2}\d{4}Z" del="Z" field="TAF_DAY">
                <data structType="datetime" format="ddmmhh" structName="issueDT"/>
                <db dbfield="ISSUE_DT"/>
            </value>
            <value pattern="^\s" field="T_TRASH" repeated="true"/>
            <value pattern="^NIL" field="IS_EMPTY">
                <data structType="bool" structName="isEmpty"/>
                <db dbfield="IS_EMPTY"/>
            </value>
            <value pattern="^\s"     field="T_TRASH" repeated="true"/>
            <value pattern="^\d{2}\d{2}\/" del="\/" field="TAF_S_DT">
                <data structType="datetime" format="ddhhmm" structName="startDT"/>
                <db dbfield="START_DT"/>
            </value>
            <value pattern="^\d{2}\d{2}\s?" del="\s" field="TAF_END_DT">
                <data structType="datetime" format="ddhhmm" structName="endDt"/>
                <db dbfield="END_DT"/>
            </value>
            <value pattern="^\s"     field="T_TRASH" repeated="true"/>
            <value pattern="^CNL"  field="TAF_CNL">
                <data structType="string" structName=""/>
                <db dbfield="IS_CNL"/>
            </value>
        </state>
        <state name="t_scf_wind_dir" pattern="(\d{3}|VRB)P?\d{2,3}(GP?\d{2,3})?(MPS|KT)\s?(\d{4}|CAVOK)" field="TAF_SFCWIND_VIS" required="false" next="t_temp">
            <value pattern="^(\d{3}|VRB)\s?" del="\s" minimalCap="false" field="SFCWINDDIR">
                <data structType="string" structName="windDir"/>
                <db dbfield="SURFACE_WIND_DIRECTION"/>
            </value>
            <value pattern="^P?\d{2,3}" replace="P|+" field="SFCWINDSPD">
                <data structType="int" structName="windSpeed"/>
                <db dbfield="WIND_SPEED"/>
            </value>
            <value pattern="^GP?\d{2,3}" del="G" replace="P|+" field="SFCWINDGUST">
                <data structType="int" structName="windGust"/>
                <db dbfield="WIND_GUST"/>
            </value>
            <value pattern="^(MPS|KT)\s?" del="\s" minimalCap="false" field="SFCWINDMES">
                <data structType="string" structName="windMeasure"/>
                <db dbfield="WIND_MEASURE"/>
            </value>
            <value pattern="^(\d{4}|CAVOK)\s?" del="\s" replace="CAVOK|9999" minimalCap="false" field="VISIBILITY">
                <data structType="int" structName="visibility"/>
                <db dbfield="VISIBILITY"/>
            </value>
            <value pattern="^(\+|-)?(DZ|RA|SN|SG|PL|DS|SS|FZDZ|FZRA|SHGR|SHGS|SHRA|SHSN|TSGR|TSGS|TSRA|TSSN|IC|FG|BR|SA|DU|HZ|FU|VA|SQ|PO|FC|TS|BCFG|BLD|BLS|BLS|DRDU|DRSA|DRSN|FZFG|MIFG|PRFG)+\s" del="\s" minimalCap="false" repeated="true" field="CURWEATHER">
                <data structType="string" structName="weather"/>
                <db dbfield="WEATHER"/>
            </value>
            <value pattern="^(SCT|FEW|BKN|OVC)(\d{3})(\sVV(\d{3}|\/\/\/))?(\sNSC)?\s?(CB|TCU)?\s?" del="\s$" minimalCap="false" repeated="true" field="CLOUD">
                <data structType="string" structName="clouds"/>
                <db dbfield="CLOUDS"/>
            </value>
        </state>
        <state name="t_temp" pattern="TXM?\d{2}\/\d{4}Z\sTNM?\d{2}\/\d{4}Z" field="TAF_M_TEMP" required="false" next="t_trend">
            <key pattern="=(\r|\n|\r\n)"/>
            <key pattern="TX"/>
            <key pattern="TN"/>
            <value pattern="^M?\d{2}\/" del="\/"  replace="M|-" field="MAX_TEMP">
                <data structType="int" structName="maxTemp"/>
                <db dbfield="MAX_TEMP"/>
            </value>
            <value pattern="^\d{2}\d{2}Z" del="Z" field="MAX_TEMP_DT">
                <data structType="datetime" format="ddhh" structName="maxTempDt"/>
                <db dbfield="MAX_TEMP_DT"/>
            </value>
            <value pattern="^\s"     field="T_TRASH" repeated="true"/>
            <value pattern="^M?\d{2}\/" del="\/" replace="M|-" field="MIN_TEMP">
                <data structType="int" structName="minTemp"/>
                <db dbfield="MIN_TEMP"/>
            </value>
            <value pattern="^\d{2}\d{2}Z" del="Z" field="MIN_TEMP_DT">
                <data structType="datetime" format="ddhh" structName="minTempDt"/>
                <db dbfield="MIN_TEMP_DT"/>
            </value>
        </state>    
        <state name="t_trend" pattern="(NOSIG|BECMG|TEMPO|PROB\d{2}(\sTEMPO)?|FM)" field="TAF_TREND" required="false" repeated="true" next="fin">
            <key pattern="=(\r|\n|\r\n)"/>
            <value pattern="^(NOSIG|BECMG|TEMPO)\s?=?" del="\s=?" minimalCap="false" field="TREND">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" create="true">
                    <data struct="Trend" structType="string" structName="trend"/>
                </listdata>
                <db dbfield="TREND" value="joinedTrend" multiValue="true" concat="|"/>
            </value>
            <value pattern="^(FM|TL|AT)?\d{4}\s?" del="\s" minimalCap="false" field="TREND_PERIOD_START">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" >
                    <data struct="Trend" structType="string" structName="trendStart"/>
                </listdata>                
            </value>
            <value pattern="^(FM|TL|AT)?\d{4}\s?" del="\s" minimalCap="false" field="TREND_PERIOD_END">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" >
                    <data struct="Trend" structType="string" structName="trendEnd"/>
                </listdata>                                
            </value>
            <value pattern="^(\d{3}|VRB)P?\d{2,3}(GP?\d{2,3})?">
                <subvalue pattern="^(\d{3}|VRB)" field="TREND_WINDDIR">
                    <data structType="string" structName="joinedTrend" multiValue="true" />
                    <listdata structType="List Trend" structName="trends" >
                        <data struct="Trend" structType="string" structName="windDirection"/>
                    </listdata>                                
                </subvalue>
                <subvalue pattern="P?\d{2,3}" replace="P|+" field="TREND_WINDSPD">
                    <data structType="string" structName="joinedTrend" multiValue="true" />
                    <listdata structType="List Trend" structName="trends" >
                        <data struct="Trend" structType="int" structName="windSpeed"/>
                    </listdata>                                
                </subvalue>
                <subvalue pattern="^GP?\d{2,3}" del="G" replace="P|+" field="TREND_WINDGUST">
                    <data structType="string" structName="joinedTrend" multiValue="true" />
                    <listdata structType="List Trend" structName="trends" >
                        <data struct="Trend" structType="int" structName="windDirection"/>
                    </listdata>                                
                </subvalue>                                
                <subvalue pattern="^(MPS|KT)\s?" field="TREND_WINDMES">
                    <data structType="string" structName="joinedTrend" multiValue="true" />
                    <listdata structType="List Trend" structName="trends" >
                        <data struct="Trend" structType="string" structName="windMeasure"/>
                    </listdata>                                
                </subvalue>                                                
            </value>
            <value pattern="^(\d{4}|CAVOK)\s?" del="\s" replace="CAVOK|9999" minimalCap="false" field="TREND_VISIBILITY">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" >
                    <data struct="Trend" structType="int" structName="visibility"/>
                </listdata>                                                
            </value>
            <value pattern="^(/+|-)?(DZ|RA|SN|SG|PL|DS|SS|FZDZ|FZRA|SHGR|SHGS|SHRA|SHSN|TSGR|TSGS|TSRA|TSSN|IC|FG|BR|SA|DU|HZ|FU|VA|SQ|PO|FC|TS|BCFG|BLDU|BLSA|BLSN|DRDU|DRSA|DRSN|FZFG|MIFG|PRFG|NSW)\s?" del="\s" minimalCap="false" repeated="true" concat=" " field="TREND_WEATHER">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" >
                    <data struct="Trend" structType="string" structName="weather"/>
                </listdata>                                                
            </value>
            <value pattern="^(SCT|FEW|BKN|OVC)(\d{3}|\/\/\/)(\sVV(\d{3}|\/\/\/))?(\sNSC)?\s?(CB|TCU)?\s?" del="\s$" minimalCap="false" repeated="true" concat=" " field="TREND_CLOUD">
                <data structType="string" structName="joinedTrend" multiValue="true" />
                <listdata structType="List Trend" structName="trends" >
                    <data struct="Trend" structType="string" structName="clouds"/>
                </listdata>                                                
            </value>
        </state>
        <state name="fin" pattern="NNNN(\n|\r)?" field="TAF_С_FIN" required="false" next="FINFIN"/>        
    </meteo>
<!-- ######################################################################################### -->            
<!-- ######################################################################################### -->        
<!-- ##################################### CONTUR ############################################ -->    
<!-- ######################################################################################### -->        
<!-- ######################################################################################### -->            
    <meteo type="7" name="CONTUR" struct="ConturMeteoStruct" parent="ConturMeteoPrototype">
        <state name="fLine" pattern="^ZCZC(\r\n|\r|\n)\d{2}\s\d{4}(\r\n|\r|\n)" field="CONTUR_F_LINE_TRASH" required="false" next="fLine2"/>
        <state name="fLine2" pattern="TYPE:.+(\r\n|\r|\n)" field="CONTUR_F_LINE3_TRASH" required="false" next="fLine3"/>
        <state name="fLine3" pattern="ID:.+(\n|\r)" field="CONTUR_AMRK" required="false" next="fLineEx"/>
        <state name="fLineEx" pattern="CANCEL:\d+(\n|\r)" field="CONTUR_C_VALIDDATE" required="false" next="contHead">
            <key pattern="CANCEL:"/>
            <value pattern="\d+(\n|\r)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="CANCEL_DATE">
                <data structType="datetime" format="yyMMddhhmm" structName="cancelDate"/>
                <db dbfield="CANCEL_DATE"/>
            </value>
        </state>
        <state name="contHead" pattern="\d{3}\s\d{6}(\n|\r|\n\r|\r\n)" field="CONTUR_HEAD" required="true" next="contData">
            <value pattern="^\d{3}\s" del="\s" field="CONTUR_COUNT">
                <data structType="int" structName="contursCount"/>
                <db dbfield=""/>
            </value>
            <value pattern="^\d{2}\d{4}" field="CONTUR_DT">
                <data structType="datetime" format="ddhhmm" structName="conturDT"/>
                <db dbfield="CONTUR_DT"/>
            </value>
        </state>
        <state name="contData" pattern="CONT\s\d{3}\s" field="CONTUR_DATA" required="true" repeated="true" next="c_fin">
            <key pattern="CONT\s"/>
            <value pattern="^\d{3}\s" del="\s" field="CONTUR_NUM">
                <listdata structType="List ConturData" structName="cData" create="true">
                    <data struct="ConturData" structType="int" structName="num"/>
                    <db dbfield="CONTUT_NUM"/>
                </listdata>                                
            </value>
            <value pattern="^\d{1}\s" del="\s" field="CONTUR_TYPE">
                <listdata structType="List ConturData" structName="cData">
                    <data struct="ConturData" structType="int" structName="type"/>
                    <db dbfield="CONTUR_TYPE"/>
                </listdata>                  
            </value>
            <value pattern="^\d{3}\s" del="\s" field="CONTUR_HEIGHT">
                <listdata structType="List ConturData" structName="cData">
                    <data struct="ConturData" structType="int" structName="height"/>
                    <db dbfield="CONTUR_HEIGHT"/>
                </listdata>                  
            </value>
            <value pattern="^\d{3}\s" del="\s" field="CONTUR_DIR">
                <listdata structType="List ConturData" structName="cData">
                    <data struct="ConturData" structType="int" structName="direction"/>
                    <db dbfield="CONTUR_DIR"/>
                </listdata>                  
            </value>
            <value pattern="^\/{3,4}\s" del="\s" field="CONTUR_DEL"/>          
            <value pattern="^\d{3}\s" del="\s" field="CONTUR_SPEED">
                <listdata structType="List ConturData" structName="cData">
                    <data struct="ConturData" structType="float" structName="speed"/>
                    <db dbfield="CONTUR_SPEED"/>
                </listdata>                  
            </value>
            <value pattern="^\/{3,4}\s" del="\s" field="CONTUR_DEL"/>
            <value pattern="^\d{4,6}(N|S)\d{5,7}(W|E)\s?" del="\s" minimalCap="false" repeated="true" field="CONTUR_COORD">
                <listdata structType="List ConturData" structName="cData">
                    <data struct="ConturData" structType="string" structName="conturCoord"/>
                    <db dbfield="CONTUR_COORD"/>
                </listdata>                  
            </value>
        </state>
        <state name="c_fin" pattern="NNNN(\n|\r)?" field="CONTUR_С_FIN" required="false" next="FINFIN"/>        
    </meteo>
<!-- ######################################################################################### -->            
<!-- ######################################################################################### -->        
<!-- ###################################### ZOND ############################################# -->    
<!-- ######################################################################################### -->        
<!-- ######################################################################################### -->            
    <meteo type="6" name="ZOND" struct="ZondMeteoStruct" parent="ZondMeteoPrototype">
        <state name="fLine" pattern="^ZCZC(\r\n|\r|\n)\d{2}\s\d{4}(\r\n|\r|\n)" field="ZOND_F_LINE_TRASH" required="false" next="fLine2"/>
        <state name="fLine2" pattern="TYPE:ZOND.+(\r\n|\r|\n)" field="ZOND_F_LINE3_TRASH" required="false" next="fLine3"/>
        <state name="fLine3" pattern="ID:.+(\n|\r)" field="ZOND_ICAO" required="false" next="fLineEx">
            <key pattern="ID:"/>
            <value pattern="^.{4}(\r\n|\r|\n)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="ZOND_ICAO">
                <data structType="string" structName="icao"/>
                <db dbfield="ICAO"/>                
            </value>             
        </state>
        <state name="fLineEx" pattern="CANCEL:\d+(\n|\r)" field="ZOND_C_VALIDDATE" required="false" next="zondHead">
            <key pattern="CANCEL:"/>
            <value pattern="\d+(\n|\r)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="CANCEL_DATE">
                <data structType="datetime" format="yyMMddhhmm" structName="cancelDate"/>
                <db dbfield="CANCEL_DATE"/>
            </value>
        </state>
        <state name="zondHead" pattern="([a-zA-z]|[а-яА-я])+((\s|\W)([a-zA-z]|[а-яА-я])+)?(\n|\r|\n\r|\r\n)\d{6}" field="ZOND_HEAD" required="true" next="zondData">
            <value pattern="([a-zA-z]|[а-яА-я])+((\s|\W)([a-zA-z]|[а-яА-я])+)?" minimalCap="false" field="ZOND_NAME">
                <data structType="string" structName="zondName"/>
                <db dbfield="ZOND_NAME"/>
            </value>
        </state>
        <state name="zondData" pattern="\d{6}\s\d{4,6}(N|S)\d{5,7}(W|E)\s\d{3}" field="ZOND_DATA" required="true" repeated="true" next="z_fin">
            <value pattern="^\d{2}\d{2}\d{2}\s" del="\s" field="ZOND_TIME">
                <listdata structType="List ZondData" structName="zData" create="true">
                    <data struct="ZondData" structType="time" format="hhmmss" structName="measureTime"/>
                    <db dbfield="MEASURE_TIME"/>
                </listdata>                
            </value>            
            <value pattern="^\d{4,6}(N|S)" field="ZOND_LAT">
                <listdata structType="List ZondData" structName="zData">
                    <data struct="ZondData" structType="time" format="hhmmss" structName="measureLat"/>
                    <db dbfield="ZOND_LAT"/>
                </listdata>  
            </value>                
            <value pattern="^\d{5,7}(W|E)\s?" del="\s" minimalCap="false" field="ZOND_LON">
                <listdata structType="List ZondData" structName="zData">
                    <data struct="ZondData" structType="time" format="hhmmss" structName="measureLon"/>
                    <db dbfield="ZOND_LON"/>
                </listdata>  
            </value>                
            <value pattern="^\d{3}" field="ZOND_HEIGHT">
                <listdata structType="List ZondData" structName="zData">
                    <data struct="ZondData" structType="int" scale="1/100" structName="measureHeight"/>
                    <db dbfield="ZOND_HEIGHT"/>
                </listdata>
            </value>
        </state>
        <state name="z_fin" pattern="NNNN(\n|\r)?" field="ZOND_С_FIN" required="false" next="FINFIN"/>        
    </meteo>        
<!-- ######################################################################################### -->            
<!-- ######################################################################################### -->        
<!-- ################################# UNSUPPORTED FORMATS ################################### -->    
<!-- ######################################################################################### -->        
<!-- ######################################################################################### -->     
    <meteo type="99" name="UNKNOWN" struct="UnsupportedMeteoStruct" parent="UnsupportedMeteoPrototype">
        <state name="fLine" pattern="^ZCZC(\r\n|\r|\n)\d{2}\s\d{4}(\r\n|\r|\n)" field="MSG_F_LINE_TRASH" required="false" next="fLine2"/>
        <state name="fLine2" pattern="TYPE:.+(\r\n|\r|\n)" field="MSG_TYPE" required="false" next="fLine3">
            <key pattern="TYPE:"/>
            <value pattern="^.+(\r\n|\r|\n)" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="MSG_TYPE">
                <data structType="string" structName="msgType"/>
                <db dbfield="MSG_TYPE"/>
            </value>
        </state>
        <state name="fLine3" pattern="ID:.+(\r\n|\r|\n)" field="MSG_ICAO" required="false" next="fLineEx">
            <key pattern="ID:"/>
            <value pattern="^.{4}(\r\n|\r|\n)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="MSG_ICAO">
                <data structType="string" structName="icao"/>
                <db dbfield="ICAO"/>                
            </value>            
        </state>
        <state name="fLineEx" pattern="CANCEL:\d+(\n|\r)" field="MSG_C_VALIDDATE" required="false" next="fin">
            <key pattern="CANCEL:"/>
            <value pattern="\d+(\n|\r)?" del="(\n|\r|\n\r|\r\n)+" minimalCap="false" field="CANCEL_DATE">
                <data structType="datetime" format="yyMMddhhmm" structName="cancelDate"/>
                <db dbfield="CANCEL_DATE"/>
            </value>
        </state>                   
        <state name="fin" pattern="NNNN(\n|\r)?" field="MSG_С_FIN" required="false" next="FINFIN"/>        
    </meteo>
</universalMeteoDecoder>